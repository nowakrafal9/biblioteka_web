<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<f:metadata>
	<f:viewAction action="#{borrowerEditBB.onLoad()}" />
</f:metadata>

<ui:composition template="/templates/page-template.xhtml">
	<ui:define name="pageContent">
		<p:panel>
			<center>
				<h:outputText value="Edycja czytelnika"
					rendered="#{borrowerEditBB.borrower.idBorrower != null}" />
				<h:outputText value="Nowy czytelnik"
					rendered="#{borrowerEditBB.borrower.idBorrower == null}" />
			</center>
		</p:panel>

		<p:panel>
			<div class="card">
				<h:form rendered="#{borrowerEditBB.borrower != null}">
					<h:panelGrid columns="3" cellpadding="5">

						<h:outputLabel for="name" value="*Imię:" />
						<p:inputText id="name" value="#{borrowerEditBB.borrower.name}"
							required="true" requiredMessage="Podaj imię"
							validatorMessage="Nieprawidłowy format danych">
							<f:validateRegex
								pattern="^[A-ZĄĘŁŃÓŚŹŻ][a-zA-ząćęłńóśźżĄĘŁŃÓŚŹŻ\x20]{2,49}$" />
						</p:inputText>
						<p:message for="name" />

						<h:outputLabel for="surname" value="*Nazwisko:" />
						<p:inputText id="surname"
							value="#{borrowerEditBB.borrower.surname}" required="true"
							requiredMessage="Podaj Nazwisko"
							validatorMessage="Nieprawidłowy format danych">
							<f:validateRegex
								pattern="^[A-ZĄĘŁŃÓŚŹŻ][a-zA-ząćęłńóśźżĄĘŁŃÓŚŹŻ\x20]{2,49}$" />
						</p:inputText>
						<p:message for="surname" />

						<h:outputLabel for="city" value="*Miasto" />
						<p:inputText id="city" value="#{borrowerEditBB.borrower.city}"
							required="true" requiredMessage="Podaj miasto"
							validatorMessage="Nieprawidłowy format danych">
							<f:validateRegex
								pattern="^[A-ZĄĘŁŃÓŚŹŻ][a-zA-ząćęłńóśźżĄĘŁŃÓŚŹŻ\x20]{3,49}$" />
						</p:inputText>
						<p:message for="city" />

						<h:outputLabel for="postalCode" value="*Kod pocztowy:" />
						<p:inputText id="postalCode"
							value="#{borrowerEditBB.borrower.postalCode}" required="true"
							requiredMessage="Podaj kod pocztowy"
							validatorMessage="Nieprawidłowy format danych (xx-xxx)">
							<f:validateRegex pattern="^\d{2}-\d{3}$" />
						</p:inputText>
						<p:message for="postalCode" />

						<h:outputLabel for="address" value="*Adres zamieszkania:" />
						<p:inputText id="address"
							value="#{borrowerEditBB.borrower.address}" required="true"
							requiredMessage="Podaj adres"
							validatorMessage="Nieprawidłowy format danych(ul. Powstańców 2/4)">
							<f:validateRegex
								pattern="^ul[\x2e][\x20][A-ZĄĘŁŃÓŚŹŻ][a-zA-ząćęłńóśźżĄĘŁŃÓŚŹŻ0-9\x20\x2F.-]{0,95}$" />
						</p:inputText>
						<p:message for="address" />

						<h:outputLabel for="phoneNum" value="*Numer telefonu" />
						<p:inputText id="phoneNum"
							value="#{borrowerEditBB.borrower.phoneNum}" required="true"
							requiredMessage="Podaj numer"
							validatorMessage="Nieprawidłowy format danych (+xx xxxxxxxxx)">
							<f:validateRegex pattern="^[\x2B]\d{2}[\x20]\d{9}$" />
						</p:inputText>
						<p:message for="phoneNum" />

						<h:outputLabel for="email" value="Adres email" />
						<p:inputText id="email" value="#{borrowerEditBB.borrower.email}"
							required="false" validatorMessage="Co najwyżej 40 znaków">
							<f:validateLength maximum="40" />
						</p:inputText>
						<p:message for="email" />

						<h:outputLabel value="Status czytelnika:" />
						<p:selectOneRadio id="status"
							value="#{borrowerEditBB.borrower.status}" unselectable="true">
							<f:selectItem itemLabel="Aktywny" itemValue="1" />
							<f:selectItem itemLabel="Zablokowany" itemValue="0" />
						</p:selectOneRadio>
					</h:panelGrid>

					<h:outputText value="* - pola wymagane" />

					<p:divider />

					<p:commandButton value="Zapisz"
						action="#{borrowerEditBB.saveData()}" style="margin-right: 1em;"
						update="@form" styleClass="ui-button-secondary" />

					<p:button value="Anuluj" outcome="borrowerList"
						styleClass="ui-button-secondary" />
				</h:form>
			</div>
		</p:panel>

	</ui:define>
</ui:composition>
</html>

